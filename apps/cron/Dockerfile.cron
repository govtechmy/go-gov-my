FROM node:20-alpine AS base

RUN apk update && apk upgrade

WORKDIR /app

#install pnpm first
RUN ["npm", "install", "-g", "pnpm@9.1.3"]

COPY cron.js /app
COPY package.json /app
COPY package-lock.json /app

RUN ["pnpm", "i"]

CMD ["node", "cron.js"]
